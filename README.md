
## Setup and Installation

Follow these steps to set up and run the project on your local machine.

### Prerequisites

-   **Python**: Version 3.11 or newer.
-   **Node.js and npm**: Version 18.x or newer.
-   **Git**: For cloning the repository.
-   **Ollama**: Download and install from [ollama.com](https://ollama.com/).

### Backend Setup

1.  **Clone the repository**:
    ```bash
    git clone https://github.com/your-username/parkinsons-detection.git
    cd parkinsons-detection
    ```

2.  **Navigate to the backend directory**:
    ```bash
    cd backend
    ```

3.  **Create a virtual environment** (recommended):
    ```bash
    python -m venv venv
    source venv/bin/activate  # On Windows, use `venv\Scripts\activate`
    ```

4.  **Install Python dependencies**:
    ```bash
    pip install -r requirements.txt
    ```

5.  **Set up Ollama**:
    -   Ensure the Ollama application is running.
    -   Pull the `phi3:mini` model by running this command in your terminal:
        ```bash
        ollama pull phi3:mini
        ```

### Frontend Setup

1.  **Navigate to the frontend directory** from the project root:
    ```bash
    cd ../frontend
    ```

2.  **Install Node.js dependencies**:
    ```bash
    npm install
    ```

## How to Run

You need to run three separate processes in three different terminals.

1.  **Terminal 1: Start the Ollama Server**
    Run the language model. This will make the AI narrative generation available.
    ```bash
    ollama run phi3:mini
    ```
    Leave this terminal running.

2.  **Terminal 2: Start the FastAPI Backend Server**
    From the project's **root directory** (`parkinsons-detection/`), run:
    ```bash
    uvicorn backend.app.main:app --reload --host 0.0.0.0 --port 8000
    ```
    The backend API will now be available at `http://localhost:8000`.

3.  **Terminal 3: Start the React Frontend Server**
    From the `frontend/` directory, run:
    ```bash
    npm start
    ```
    The application will automatically open in your browser at `http://localhost:3000`.

## How It Works

### Prediction Pipeline

1.  The user fills out the form in the React frontend and clicks "Get Prediction".
2.  The `api.js` module sends the form data as a JSON object to the FastAPI backend at the `/predict/` endpoint.
3.  FastAPI uses Pydantic (`schema.py`) to validate the incoming data.
4.  The `models.py` module preprocesses the data using a pre-trained `MinMaxScaler` and feeds it to the loaded XGBoost model.
5.  The model returns a prediction (0 for Healthy, 1 for Parkinson's) and the class probabilities.

### Model Explainability

1.  After getting a prediction, the backend calls the `explainer.py` module.
2.  **SHAP**: A `shap.Explainer` instance calculates the SHAP values for the given input, indicating the impact of each feature. Positive values push the prediction towards Parkinson's, and negative values push it towards Healthy.
3.  **Ollama**: The top 4 most influential features (based on SHAP values) are formatted into a prompt. This prompt is sent to the locally running Ollama `phi3:mini` model.
4.  **Response**: The LLM generates a simple, jargon-free explanation, which is sent back to the frontend along with the structured SHAP values and the prediction.
5.  The React frontend displays the probability in the gauge, the narrative text, and the SHAP values in a color-coded bar chart.

## Screenshots

Here is a visual walkthrough of the application's user interface and features.



### 1. Data Input Form

This is the main interface where users can input the 22 voice measurement features. The form is pre-populated with sample data to facilitate quick testing and demonstrate the required data format.



### 2. Prediction Results & AI Explanation

Once the data is analyzed, the dashboard displays the results. This includes a probability gauge indicating the likelihood of Parkinson's and a simple, human-readable narrative generated by the AI assistant (Ollama and Phi-3). This provides an immediate, at-a-glance understanding of the outcome.



### 3. Feature Influence Analysis (SHAP Chart)

Below the main results, a SHAP bar chart provides a detailed breakdown of the model's decision. It visualizes which features had the most significant impact on the prediction. Red bars indicate features that pushed the prediction towards "Parkinson's," while blue bars indicate features that pushed it towards "Healthy."

#### Prediction Form

*The interactive form where users can input patient voice data.*

#### Results Display

*The results section showing the probability gauge and the AI-generated narrative.*

#### SHAP Feature Importance Chart

*The SHAP bar chart visualizes the influence of each feature on the final prediction.*