{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\devin\\\\Desktop\\\\sideProjects\\\\Detect Parkinson Disease\\\\frontend\\\\src\\\\components\\\\ShapBar.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ShapBar({\n  shapValues\n}) {\n  _s();\n  const ref = useRef();\n  useEffect(() => {\n    if (!shapValues || shapValues.length === 0) return;\n\n    // Sort values by their absolute impact and take top 10\n    const sortedValues = [...shapValues].sort((a, b) => Math.abs(b.value) - Math.abs(a.value)).slice(0, 10).reverse(); // Reverse for vertical bar chart display\n\n    // Clear previous SVG\n    d3.select(ref.current).selectAll(\"*\").remove();\n    const margin = {\n      top: 20,\n      right: 30,\n      bottom: 40,\n      left: 120\n    };\n    const width = 800 - margin.left - margin.right;\n    const height = 400 - margin.top - margin.bottom;\n    const svg = d3.select(ref.current).attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", `translate(${margin.left},${margin.top})`);\n\n    // Y axis (features)\n    const y = d3.scaleBand().range([0, height]).domain(sortedValues.map(d => d.feature)).padding(0.1);\n    svg.append(\"g\").call(d3.axisLeft(y));\n\n    // X axis (SHAP values)\n    const x = d3.scaleLinear().domain(d3.extent(sortedValues, d => d.value)).range([0, width]);\n    svg.append(\"g\").attr(\"transform\", `translate(0, ${height})`).call(d3.axisBottom(x)).selectAll(\"text\").attr(\"transform\", \"translate(-10,0)rotate(-45)\").style(\"text-anchor\", \"end\");\n\n    // Zero line\n    svg.append(\"line\").attr(\"x1\", x(0)).attr(\"x2\", x(0)).attr(\"y1\", 0).attr(\"y2\", height).attr(\"stroke\", \"grey\").attr(\"stroke-width\", \"1.5px\").attr(\"stroke-dasharray\", \"4\");\n\n    // Bars\n    svg.selectAll(\"myRect\").data(sortedValues).enter().append(\"rect\").attr(\"y\", d => y(d.feature)).attr(\"height\", y.bandwidth()).attr(\"x\", d => d.value < 0 ? x(d.value) : x(0)).attr(\"width\", d => Math.abs(x(d.value) - x(0))).attr(\"fill\", d => d.value > 0 ? \"#e74c3c\" : \"#3498db\"); // Red for positive, Blue for negative\n  }, [shapValues]);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 10\n  }, this);\n}\n_s(ShapBar, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n_c = ShapBar;\nexport default ShapBar;\nvar _c;\n$RefreshReg$(_c, \"ShapBar\");","map":{"version":3,"names":["React","useEffect","useRef","d3","jsxDEV","_jsxDEV","ShapBar","shapValues","_s","ref","length","sortedValues","sort","a","b","Math","abs","value","slice","reverse","select","current","selectAll","remove","margin","top","right","bottom","left","width","height","svg","attr","append","y","scaleBand","range","domain","map","d","feature","padding","call","axisLeft","x","scaleLinear","extent","axisBottom","style","data","enter","bandwidth","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/devin/Desktop/sideProjects/Detect Parkinson Disease/frontend/src/components/ShapBar.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport * as d3 from 'd3';\r\n\r\nfunction ShapBar({ shapValues }) {\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    if (!shapValues || shapValues.length === 0) return;\r\n\r\n    // Sort values by their absolute impact and take top 10\r\n    const sortedValues = [...shapValues]\r\n      .sort((a, b) => Math.abs(b.value) - Math.abs(a.value))\r\n      .slice(0, 10)\r\n      .reverse(); // Reverse for vertical bar chart display\r\n\r\n    // Clear previous SVG\r\n    d3.select(ref.current).selectAll(\"*\").remove();\r\n\r\n    const margin = { top: 20, right: 30, bottom: 40, left: 120 };\r\n    const width = 800 - margin.left - margin.right;\r\n    const height = 400 - margin.top - margin.bottom;\r\n\r\n    const svg = d3.select(ref.current)\r\n        .attr(\"width\", width + margin.left + margin.right)\r\n        .attr(\"height\", height + margin.top + margin.bottom)\r\n      .append(\"g\")\r\n        .attr(\"transform\", `translate(${margin.left},${margin.top})`);\r\n\r\n    // Y axis (features)\r\n    const y = d3.scaleBand()\r\n      .range([0, height])\r\n      .domain(sortedValues.map(d => d.feature))\r\n      .padding(0.1);\r\n    \r\n    svg.append(\"g\")\r\n      .call(d3.axisLeft(y));\r\n\r\n    // X axis (SHAP values)\r\n    const x = d3.scaleLinear()\r\n      .domain(d3.extent(sortedValues, d => d.value))\r\n      .range([0, width]);\r\n      \r\n    svg.append(\"g\")\r\n      .attr(\"transform\", `translate(0, ${height})`)\r\n      .call(d3.axisBottom(x))\r\n      .selectAll(\"text\")\r\n      .attr(\"transform\", \"translate(-10,0)rotate(-45)\")\r\n      .style(\"text-anchor\", \"end\");\r\n\r\n    // Zero line\r\n    svg.append(\"line\")\r\n      .attr(\"x1\", x(0))\r\n      .attr(\"x2\", x(0))\r\n      .attr(\"y1\", 0)\r\n      .attr(\"y2\", height)\r\n      .attr(\"stroke\", \"grey\")\r\n      .attr(\"stroke-width\", \"1.5px\")\r\n      .attr(\"stroke-dasharray\", \"4\");\r\n\r\n    // Bars\r\n    svg.selectAll(\"myRect\")\r\n      .data(sortedValues)\r\n      .enter()\r\n      .append(\"rect\")\r\n      .attr(\"y\", d => y(d.feature))\r\n      .attr(\"height\", y.bandwidth())\r\n      .attr(\"x\", d => d.value < 0 ? x(d.value) : x(0))\r\n      .attr(\"width\", d => Math.abs(x(d.value) - x(0)))\r\n      .attr(\"fill\", d => d.value > 0 ? \"#e74c3c\" : \"#3498db\"); // Red for positive, Blue for negative\r\n\r\n  }, [shapValues]);\r\n\r\n  return <svg ref={ref}></svg>;\r\n}\r\n\r\nexport default ShapBar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}