{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\devin\\\\Desktop\\\\sideProjects\\\\Detect Parkinson Disease\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\n\n// --- Step 1: Import the new components and API functions ---\n// We now import PredictionForm instead of UploadForm.\nimport PredictionForm from './components/PredictionForm';\n// We import getPredictionFromForm instead of uploadAndPredict.\nimport { getPredictionFromForm } from './api';\n\n// These components for displaying results remain the same.\nimport Gauge from './components/Gauge';\nimport ShapBar from './components/ShapBar';\n\n// Import the stylesheet.\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  // --- Step 2: State management remains the same ---\n  // This state is perfect for our workflow, regardless of the input method.\n  const [predictionData, setPredictionData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  // --- Step 3: Update the prediction handler function ---\n  // It now receives a 'patientData' object from the form, not a 'formData' object.\n  const handlePrediction = async patientData => {\n    setIsLoading(true);\n    setError('');\n    setPredictionData(null);\n    try {\n      const data = await getPredictionFromForm(patientData);\n      setPredictionData(data.results[0]);\n    } catch (err) {\n      // **THE FIX**: Make the error handling more robust.\n      let errorMessage = 'An unexpected error occurred. Please check the values and try again.';\n\n      // Check if this is a detailed validation error from FastAPI\n      if (err.detail && Array.isArray(err.detail)) {\n        // Grab the message from the first validation error\n        errorMessage = err.detail[0].msg || 'A validation error occurred.';\n      } else if (err.detail) {\n        // Handle cases where err.detail is a simple string\n        errorMessage = err.detail;\n      }\n      setError(errorMessage);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // --- Step 4: Update the rendered JSX ---\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Parkinson's Disease Detection Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(PredictionForm, {\n        onPredict: handlePrediction,\n        disabled: isLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"Analyzing...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 23\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: [\"Error: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 19\n      }, this), predictionData && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"results-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Prediction Result\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"results-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gauge-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Prediction Probability\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Gauge, {\n              probability: predictionData.probability_parkinsons\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"narrative-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"AI Explanation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: predictionData.explanation.narrative\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shap-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Feature Influence Analysis (SHAP)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"This chart shows which voice features had the biggest impact on the prediction. Red bars indicate features pushing the prediction towards \\\"Parkinson's,\\\" and blue bars indicate features pushing it towards \\\"Healthy.\\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ShapBar, {\n            shapValues: predictionData.explanation.shap_values\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"NHPRFuuYSc2G3lar5qAUIXzGG6A=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","PredictionForm","getPredictionFromForm","Gauge","ShapBar","jsxDEV","_jsxDEV","App","_s","predictionData","setPredictionData","isLoading","setIsLoading","error","setError","handlePrediction","patientData","data","results","err","errorMessage","detail","Array","isArray","msg","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onPredict","disabled","probability","probability_parkinsons","explanation","narrative","shapValues","shap_values","_c","$RefreshReg$"],"sources":["C:/Users/devin/Desktop/sideProjects/Detect Parkinson Disease/frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\n// --- Step 1: Import the new components and API functions ---\r\n// We now import PredictionForm instead of UploadForm.\r\nimport PredictionForm from './components/PredictionForm';\r\n// We import getPredictionFromForm instead of uploadAndPredict.\r\nimport { getPredictionFromForm } from './api';\r\n\r\n// These components for displaying results remain the same.\r\nimport Gauge from './components/Gauge';\r\nimport ShapBar from './components/ShapBar';\r\n\r\n// Import the stylesheet.\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  // --- Step 2: State management remains the same ---\r\n  // This state is perfect for our workflow, regardless of the input method.\r\n  const [predictionData, setPredictionData] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  // --- Step 3: Update the prediction handler function ---\r\n  // It now receives a 'patientData' object from the form, not a 'formData' object.\r\n  const handlePrediction = async (patientData) => {\r\n    setIsLoading(true);\r\n    setError('');\r\n    setPredictionData(null);\r\n    try {\r\n      const data = await getPredictionFromForm(patientData);\r\n      setPredictionData(data.results[0]); \r\n\r\n    } catch (err) {\r\n      // **THE FIX**: Make the error handling more robust.\r\n      let errorMessage = 'An unexpected error occurred. Please check the values and try again.';\r\n      \r\n      // Check if this is a detailed validation error from FastAPI\r\n      if (err.detail && Array.isArray(err.detail)) {\r\n        // Grab the message from the first validation error\r\n        errorMessage = err.detail[0].msg || 'A validation error occurred.';\r\n      } else if (err.detail) {\r\n        // Handle cases where err.detail is a simple string\r\n        errorMessage = err.detail;\r\n      }\r\n      \r\n      setError(errorMessage);\r\n\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // --- Step 4: Update the rendered JSX ---\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <h1>Parkinson's Disease Detection Dashboard</h1>\r\n      </header>\r\n      <main>\r\n        {/*\r\n          Replace the old <UploadForm /> with our new <PredictionForm />.\r\n          The props we pass ('onPredict' and 'disabled') are the same.\r\n        */}\r\n        <PredictionForm onPredict={handlePrediction} disabled={isLoading} />\r\n        \r\n        {/* \r\n          The rest of the component for displaying loading, error, and results\r\n          is completely unchanged, which shows the power of good component design.\r\n        */}\r\n        {isLoading && <div className=\"loading\">Analyzing...</div>}\r\n        \r\n        {error && <div className=\"error-message\">Error: {error}</div>}\r\n        \r\n        {predictionData && (\r\n          <div className=\"results-container\">\r\n            <h2>Prediction Result</h2>\r\n            <div className=\"results-grid\">\r\n              <div className=\"gauge-card\">\r\n                <h3>Prediction Probability</h3>\r\n                <Gauge probability={predictionData.probability_parkinsons} />\r\n              </div>\r\n              <div className=\"narrative-card\">\r\n                 <h3>AI Explanation</h3>\r\n                 <p>{predictionData.explanation.narrative}</p>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"shap-card\">\r\n              <h3>Feature Influence Analysis (SHAP)</h3>\r\n              <p>This chart shows which voice features had the biggest impact on the prediction. Red bars indicate features pushing the prediction towards \"Parkinson's,\" and blue bars indicate features pushing it towards \"Healthy.\"</p>\r\n              <ShapBar shapValues={predictionData.explanation.shap_values} />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}